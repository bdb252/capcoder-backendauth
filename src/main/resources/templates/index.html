<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-security6">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
</head>

<body>
	<div class="nav-icons">
		<div class="nav-item" onclick="location.href='/'">
			<span>로고</span>
		</div>
		<div class="nav-item" onclick="location.href='/login.do'">
			<span>로그인</span>
		</div>
		<div class="nav-item" onclick="location.href='/regist.do'">
			<span>회원가입</span>
		</div>
		<div class="nav-item" onclick="location.href='/index.do'">
			<span>메인페이지</span>
		</div>
		<div class="nav-item" onclick="location.href='/mypage.do'">
			<span>마이페이지</span>
		</div>
	</div>
	<h1>캡코더</h1>

	<!-- 로그인 사용자 -->
	<section sec:authorize="isAuthenticated()">
		<h2>내 기본 정보</h2>
		<div>
			<p><strong>이름:</strong> <span th:text="${userName}">이름 없음</span></p>
			<p><strong>성별:</strong>
				<span th:if="${gender == 'F'}">여성</span>
				<span th:if="${gender == 'M'}">남성</span>
				<span th:if="${gender == null}">미입력</span>
			</p>
			<p><strong>키:</strong> <span th:text="${height}">미입력</span>cm</p>
			<p><strong>몸무게:</strong> <span th:text="${weight}">미입력</span>kg</p>
			<p><strong>생년월일:</strong> <span th:text="${birthDate}">미입력</span></p>

		</div>

		<!-- 예측 버튼 자리 (다음 단계에서 동작 연결) -->
		<form method="post" action="/predict/model">
			<button type="submit">예측 실행</button>
		</form>
	</section>

	<!-- 비로그인 전용 영역: 기본 정보 입력 폼 -->
	<section sec:authorize="isAnonymous()">
		<h2>기본 정보 입력 후 예측</h2>
		<form method="post" action="/predict/model">
			<p>이름 <input name="name" required></p>
			<p>성별
				<select name="gender" required>
					<option value="">선택</option>
					<option value="M">남성</option>
					<option value="F">여성</option>
				</select>
			</p>
			<p>생년월일 <input name="birthDate" type="date" required></p>
			<p>키(cm) <input name="height" type="number" step="0.1" required></p>
			<p>몸무게(kg) <input name="weight" type="number" step="0.1" required></p>
			<button type="submit">예측 실행</button>
		</form>
	</section>
</body>

</html>